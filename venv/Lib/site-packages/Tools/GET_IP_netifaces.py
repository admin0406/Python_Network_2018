#!/usr/bin/env python3
# -*- coding=utf-8 -*-
# 本脚由亁颐堂现任明教教主编写，用于乾颐盾Python课程！
# 教主QQ:605658506
# 亁颐堂官网www.qytang.com
# 教主技术进化论拓展你的技术新边疆
# https://ke.qq.com/course/271956?tuin=24199d8a


from netifaces import interfaces, ifaddresses, AF_INET


# def get_ip_address():  # 仅仅适用于一个接口有IP地址的情况,WIN/Linux都适用
#     for ifaceName in interfaces():
#         addresses = [i['addr'] for i in ifaddresses(ifaceName).setdefault(AF_INET, [{'addr': 'No IP addr'}])]
#         if addresses[0] != '127.0.0.1':
#             return addresses[0]


def get_ip_address(ifname):  # Linux下使用名字获取IP地址
    for ifaceName in interfaces():
        addresses = [i['addr'] for i in ifaddresses(ifaceName).setdefault(AF_INET, [{'addr': 'No IP addr'}])]
        if ifaceName == ifname:
            return addresses[0]


if __name__ == "__main__":
    print(get_ip_address('ens33'))
